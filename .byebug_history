cont
בםמא
cont
@error_message = "asd"
first_date_of_input_month
 @error_message
cont
next
 @error_message = "asd"
exit
next
@error_message = "bla"
@error_message.present?
cont
nt
cot
csv.first
csv
next
url = params["url"]["csv_file_url"]
params
url
next
params
פשרשצד
exit
revenue_sum
unreserved_capacity
next
row
cont
revenue_sum
price_per_day * (days_of_month - start_day.day + 1)
row
next
row
next
row
next
row
next
price_per_day
next
days_of_month
next
row
cont
ccont
cont
next
cont
exit
start_day.year < first_date_of_input_month.year
row
next
first_date_of_input_month
next
first_date_of_input_month
row
next
cont
row
next
first_date_of_input_month
start_day
row
next
row
cont
row
next
row
cont
next
row
cont
next
exit
row
end_day.month
first_date_of_input_month.month
start_day.month 
first_date_of_input_month.month
first_date_of_input_month.month >= start_day.month && first_date_of_input_month.month <= end_day.month
first_date_of_input_month.year >= start_day.year && first_date_of_input_month.year <= end_day.year
   41:              (first_date_of_input_month.month >= start_day.month && first_date_of_input_month.month <= end_day.month))
((first_date_of_input_month.year >= start_day.year && first_date_of_input_month.year <= end_day.year) && 
next
row
next
row
cont
next
row
next
row
ro
next
cont
row
next
row
cont
exit
cont
exit
cont
revenue_sum
cont
row
next
exit
cont
first_date_of_input_month.year.class
first_date_of_input_month.year
first_date_of_input_month
next
row
next
exit
first_date_of_input_month
start.day
start
(start - end_date).to_i.class
(start - end_date).to_i
start - end_date
(end_date - start).to_i
end_date = end_date - 1.days
end_date
(end_date - start).to_i
(end_date - start).days.to_i
(end_date - start)
(end_date - start).days
end_date
end
start
end_date = row["End Day"].to_date
start=row["Start Day"].to_date
row
nil.to_date
price_per_day
row
price_per_day = row["Monthly Price"].to_i / days_of_month
days_of_month
next
row
next
row
next
row
next
days_of_month
row
next
exit
2800/31
row["Monthly Price"].to_i / a.end_of_month.day
row
a.end_of_month.day
a.end_of_month
a=(params["room"]["reservation_month"] + "-01").to_date
(params["room"]["reservation_month"] + "-01").to_date
params["room"]["reservation_month"] + "-01"
params["room"]["reservation_month"]
Time.days_in_month((params["room"]["reservation_month"] + "-01").to_date)
Time.days_in_month (params["room"]["reservation_month"] + "-01").to_date)
params
31-1
row["Start Day"].to_date.month
row["Start Day"].to_date
row
(params["room"]["reservation_month"] + "-01").to_date
params["room"]["reservation_month"] + "-01".to_datetime
params["room"]["reservation_month"] + "-01"
params["room"]["reservation_month"].to_datetime
params["room"]["reservation_month"].to_date
params["room"]["reservation_month"]
params["room"]
params
31-27
a-b
b=h["Start Day"].to_date.day
a=Time.days_in_month(h["Start Day"].to_date.month)
h["Start Day"].to_date.day
h["Start Day"]
Time.days_in_month(h["Start Day"].to_date.month)
Time.days_in_month(h["Start Day"].to_date)
Time.days_in_month(h["Start Day"].to_date]
h["End Day"].to_date - h["Start Day"].to_date
h["End Day"] - h["Start Day"]
h["End Day"] - h["Start Day"
h=row.to_hash
row
next
h=row.to_hash
row
start.end_of_month - start
start.end_of_month
r=start.end_of_month - start
start2 = start+1.days
r.to_i
r.class
r=start.end_of_month - start
start.end_of_month - start
start.end_of_month
start
Time.days_in_month(start.month)
Time.days_in_month(start)
Date.days_in_month(start)
days_in_month(start.month)
start.days_in_month
start.month.days_in_month
start.month
(end_date - start).days
end_date = start + 2.days
(end_date - start).days
end_date - start
end_date = start + 1.days
end = start + 1.days
start = row["Start Day"].to_date
row["Start Day"].to_date
row["Start Day"]
row
cont
row
next
cont
row
next
cont
exit
row
row.to_hash
row[" Monthly Price"]
row["Monthly Price"]
row["Capacity"]
row.class
row
cont
next
exit
csv
next
exit
exception
next
cont
url_data.class
url_data
next
exit
next
params
